import{d as N,c as l,o as a,b as n,l as v,u as e,ai as U,C as k,i as b,ad as j,e as R,t as M,q as y,F as $,D as P,n as V,P as B,a as h,aj as O,M as F,x as T,ak as A,al as z,Y as J,am as E,f as K,Z as Y,h as D,$ as I,an as q,a1 as H,ao as L,H as W,af as S,ah as X}from"./index-Dwf2ZVS8.js";import{_ as Z}from"./SectionBlock-B1R4b7tt.js";import"./IconTitle.vue_vue_type_script_setup_true_lang-DcR_j93Q.js";const G={"p-2":""},Q={class:"flex items-center justify-between"},ee=N({__name:"RouteMetaDetail",props:{meta:{}},emits:["close"],setup(w){return(r,i)=>(a(),l("div",G,[n("div",Q,[i[1]||(i[1]=n("span",{class:"font-500"},"Route meta detail",-1)),n("div",{class:"i-carbon-close cursor-pointer p1 $ui-text",onClick:i[0]||(i[0]=_=>r.$emit("close"))})]),v(e(U),{code:JSON.stringify(r.meta,null,2),lang:"json",lines:""},null,8,["code"])]))}}),te={block:"","cursor-pointer":""},ne={p2:""},oe=["onSubmit"],ae={flex:"~","items-center":"",p2:"","text-sm":"","font-mono":""},se={key:1},le=N({__name:"RoutePathItem",props:{route:{}},emits:["navigate"],setup(w,{emit:r}){const i=w,_=r;function m(t){return t.split(/(:\w+[?*+]?(?:\([^)]*\))?[?*+]?)/).filter(Boolean)}const d=k([]),c=b(()=>m(i.route.path));j(()=>{d.value=Array.from({length:c.value.length},()=>"")});const u=b(()=>c.value.map((t,o)=>t[0]===":"?d.value[o]:t).join("").replace(/\/+/g,"/")),s=b(()=>i.route.path.includes(":"));function p(){_("navigate",u.value)}return(t,o)=>e(s)?(a(),R(e(A),{key:1},{popper:y(({hide:f})=>[n("div",ne,[n("form",{flex:"~ col",onSubmit:B(()=>{p(),f()},["prevent"])},[e(s)?(a(),l($,{key:0},[o[0]||(o[0]=n("div",{px2:"","text-sm":"",op50:""}," Fill params and navigate: ",-1)),n("div",ae,[(a(!0),l($,null,P(e(c),(g,C)=>(a(),l($,{key:C},[g[0]===":"?(a(),R(e(O),{key:0,modelValue:e(d)[C],"onUpdate:modelValue":x=>e(d)[C]=x,"n-sm":"","w-20":"",placeholder:g.slice(1)},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(a(),l("span",se,M(g),1))],64))),128))])],64)):h("",!0),v(e(F),{block:"",type:"primary"},{default:y(()=>o[1]||(o[1]=[T(" Navigate ")])),_:1})],40,oe)])]),default:y(()=>[n("code",te,[(a(!0),l($,null,P(e(c),(f,g)=>(a(),l("span",{key:g,class:V(f[0]===":"?"text-gray border border-dashed rounded border-gray:50 px1":"")},M(f[0]===":"?f.slice(1):f),3))),128))])]),_:1})):(a(),l("button",{key:0,onClick:p},[n("code",null,M(t.route.path),1)]))}}),re={"w-full":""},ie={border:"b base","px-3":""},ue={key:0,"text-left":""},de={"w-20":"","pr-1":""},ce={flex:"","items-center":"","justify-end":""},pe={"text-sm":""},me={flex:"inline gap3","items-center":""},fe={op0:"","group-hover:op100":"",flex:"~ gap1"},ve=["onClick"],he={"w-0":"","ws-nowrap":"","pr-1":"","text-left":"","text-sm":"","font-mono":"",op50:""},_e={key:0,"w-50":"","ws-nowrap":"","pr-1":"","text-left":"","text-sm":"","font-mono":"",op50:"",hover:"text-primary op100"},ge=["title","onClick"],ye=N({__name:"RoutesTable",props:{pages:{},matched:{},matchedPending:{}},emits:["navigate","selectMeta"],setup(w){const r=w,i=b(()=>[...r.pages].sort((u,s)=>u.path.localeCompare(s.path))),_=b(()=>z.value),m=J();function d(u,s=0){const p=JSON.stringify(u,null,s);return p==="{}"?"-":p}const c=b(()=>i.value.some(u=>Object.keys(u.meta)?.length));return(u,s)=>{const p=le;return a(),l("div",null,[n("table",re,[n("thead",ie,[n("tr",null,[s[1]||(s[1]=n("th",{"text-left":""},null,-1)),s[2]||(s[2]=n("th",{"text-left":""}," Route Path ",-1)),s[3]||(s[3]=n("th",{"text-left":""}," Name ",-1)),e(c)?(a(),l("th",ue," Route Meta ")):h("",!0)])]),n("tbody",null,[(a(!0),l($,null,P(e(i),t=>(a(),l("tr",{key:t.name,class:"group","h-7":"",border:"b dashed transparent hover:base"},[n("td",de,[n("div",ce,[u.matched.find(o=>o.name===t.name)?(a(),R(e(E),{key:0,"bg-green-400:10":"","text-green-400":"",title:"active",textContent:"active"})):u.matchedPending.find(o=>o.name===t.name)?(a(),R(e(E),{key:1,"bg-teal-400:10":"","text-teal-400":"",title:"next",textContent:"next"})):h("",!0)])]),n("td",pe,[n("div",me,[v(p,{route:t,class:V(u.matched.find(o=>o.name===t.name)?"text-primary-400":u.matchedPending.find(o=>o.name===t.name)?"text-teal":""),onNavigate:s[0]||(s[0]=o=>u.$emit("navigate",o))},null,8,["route","class"]),n("div",fe,[t.meta?.file&&e(m).vitePluginDetected.value&&e(_)?(a(),l("button",{key:0,"text-sm":"",op40:"",hover:"op100 text-primary-400",title:"Open in editor",onClick:o=>e(K)(t.meta?.file)},s[4]||(s[4]=[n("div",{"i-carbon-script-reference":""},null,-1)]),8,ve)):h("",!0)])])]),n("td",he,M(t.name),1),e(c)?(a(),l("td",_e,[n("span",{"inline-block":"","w-50":"","cursor-pointer":"","overflow-hidden":"","text-ellipsis":"",title:d(t.meta,2),onClick:()=>u.$emit("selectMeta",t.meta)},M(d(t.meta)),9,ge)])):h("",!0)]))),128))])])])}}}),be={block:"","h-screen":"","of-auto":""},xe={"h-full":"",class:"grid grid-rows-[auto_1fr]"},ke={border:"b base",flex:"~ col gap1",px4:"",py3:""},$e={key:1,op50:""},Re={key:0,"text-orange":"",op75:""},we={key:1,op50:""},Ne=N({__name:"pages",setup(w){const r=k(""),i=k(null),_=k([]),m=b(()=>r.value===i.value?.path?[]:_.value),d=k([]),c=k();function u(t){d.value=t.routes,i.value=t.currentRoute,r.value=i.value?.path??"/"}function s(){m.value.length&&p(r.value)}function p(t){D.value.navigate(t)}return Y(()=>{D.value.getRouterInfo().then(t=>{u(t)}),D.functions.on(I.ROUTER_INFO_UPDATED,u)}),q(r,()=>{r.value!==i.value?.path&&D.value.getMatchedRoutes(r.value).then(t=>{_.value=t})}),H(()=>{D.functions.off(I.ROUTER_INFO_UPDATED,u)}),(t,o)=>{const f=ye,g=Z,C=ee;return a(),l("div",be,[n("div",xe,[n("div",ke,[n("div",null,[(a(),l("span",$e,"Current route"))]),v(e(O),{modelValue:e(r),"onUpdate:modelValue":o[0]||(o[0]=x=>W(r)?r.value=x:null),"left-icon":"i-carbon-direction-right-01 scale-y--100",class:V(e(i)?.path===e(r)?"":e(m).length?"text-green!":"text-orange!"),onKeydown:L(s,["enter"])},null,8,["modelValue","class"]),n("div",null,[e(i)?.path!==e(r)?(a(),l($,{key:0},[o[6]||(o[6]=n("span",null,[T("Press "),n("b",{"font-bold":""},"Enter"),T(" to navigate")],-1)),e(m).length?h("",!0):(a(),l("span",Re," (no match)"))],64)):(a(),l("span",we,"Edit path above to navigate"))])]),v(e(X),{class:"of-hidden"},{default:y(()=>[v(e(S),{size:"70",class:"of-auto!"},{default:y(()=>[v(g,{icon:"i-carbon-tree-view-alt",text:"All Routes",description:`${e(d).length} routes registered in your application`,padding:!1},{default:y(()=>[e(d).length?(a(),R(f,{key:0,pages:e(d),matched:e(i)?.matched??[],"matched-pending":e(m),onNavigate:p,onSelectMeta:o[1]||(o[1]=x=>c.value=x)},null,8,["pages","matched","matched-pending"])):h("",!0)]),_:1},8,["description"])]),_:1}),e(c)?(a(),R(e(S),{key:0,size:"30",class:"of-auto!"},{default:y(()=>[v(C,{meta:e(c),onClose:o[2]||(o[2]=x=>c.value=void 0)},null,8,["meta"])]),_:1})):h("",!0)]),_:1})])])}}});export{Ne as default};
