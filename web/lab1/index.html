<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Лабораторная работа №1</title>
	<link rel="stylesheet" href="styles.css">
	<style type="text/css">
		th {font-family: monospace; background-color: #acdef1; font-size:22px;}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<table width="100%">
		<tr>
			<th width="40%">Путинцев Данил Денисович</th>
			<th width="30%">P3207</th>
			<th width="30%">Вариант №409425</th>
		</tr>
		<tr>
      		<td style="background-color: #abcde0;" align="center" padding="10px">
      			
          		<img src="img.jpg" alt="Изображение" class="responsive-image">
          		<p id="north-top" class="overlay-label">R</p>
         	 	<p id="north-middle" class="overlay-label">R/2</p>
          		<p id="south-buttom" class="overlay-label">-R</p>
          		<p id="south-middle" class="overlay-label">-R/2</p>
          		<p id="west-left" class="overlay-label">-R</p>
          		<p id="west-middle" class="overlay-label">-R/2</p>
          		<p id="east-right" class="overlay-label">R</p>
          		<p id="east-middle" class="overlay-label">R/2</p>
      		</td>
      		<td style="background-color: #abcde0;" border="1">
      			<p><b>Ввод данных:</b></p>
      			<form>
	      			<label for="coor_x">Введите координату X (от -3 до 3):</label>
					<input type="text" id="coor_x" name="coor_x" required minlength="-3" maxlength="3" size="2">
					<br>
					<label for="y">Выберите значение для координаты Y:</label>
					<button type="button" class="coor_y">-5</button> 
					<button type="button" class="coor_y">-4</button> 
					<button type="button" class="coor_y">-3</button> 
					<button type="button" class="coor_y">-2</button> 
					<button type="button" class="coor_y">-1</button> 
					<button type="button" class="coor_y">0</button> 
					<button type="button" class="coor_y">1</button> 
					<button type="button" class="coor_y">2</button> 
					<button type="button" class="coor_y">3</button> 
					<br>
					<label for="r">Выберите значение R:</label>
					<label for="r1">1</label>
					<input id="r1" type="radio" class="coor_r" name="question">
	    			
					<label for="r2">2</label>
	    			<input id="r2" type="radio" class="coor_r" name="question">
	    			
	    			<label for="r3">3</label>
	    			<input id="r3" type="radio" class="coor_r" name="question">
	    			
	    			<label for="r4">4</label>
	    			<input id="r4" type="radio" class="coor_r" name="question">
	    			
	    			<label for="r5">5</label>
	    			<input id="r5" type="radio" class="coor_r" name="question">
	    			
    			</form>
      		</td>
      		<td align="center" style="background-color: #abcde0;">
      			<table border="1" width="175px">
      				<p><b>Введенные данные:</b></p>

                	<tr>
                    	<td>X:</td>
                    	<td id="form_x">Значение X</td>
                	</tr>
                	<tr>
                    	<td>Y:</td>
                    	<td id="form_y">Значение Y</td>
                	</tr>
                	<tr>
                    	<td>R:</td>
                    	<td id="form_r">Значение R</td>
            	</table>
            	<button type="button" id="main_button">Отправить</button>
        	</td>
    	</tr>
	</table>
	 <script>
        document.getElementById('coor_x').addEventListener('input', function() {
            const input = this.value;

            if (input < -3 || input > 3) {
            	this.value = null;
               	alert('Ошибка ввода координаты X. X должен быть (от -3 до 3)')
            } else {
            	const form_x = document.getElementById('form_x');
            	form_x.textContent = input;
            }
        });

        const buttons = document.querySelectorAll('.coor_y');

		buttons.forEach(button => {
    	button.addEventListener('click', function() {
        
        const value = this.textContent; 
        
        const form_y = document.getElementById('form_y');
        
        form_y.textContent = value;
    });
});
		const radioButtons = document.querySelectorAll('.coor_r');

		radioButtons.forEach(radio => {
    	radio.addEventListener('change', function() {
        if (this.checked) {
            const label = document.querySelector(`label[for="${this.id}"]`).textContent;
            const form_r = document.getElementById('form_r');
            const floatValue = parseFloat(label) / 2;

            form_r.textContent = label;

            //Изменение для надписей у рисунка
            const north_top = document.getElementById('north-top');
            north_top.textContent = label;
            const north_middle = document.getElementById('north-middle');
            north_middle.textContent = floatValue;
            const south_buttom = document.getElementById('south-buttom');
            south_buttom.textContent = "-" + label;
            const south_middle = document.getElementById('south-middle');
            south_middle.textContent = "-" + floatValue;
            const west_left = document.getElementById('west-left');
            west_left.textContent = "-" + label;
            const west_middle = document.getElementById('west-middle');
            west_middle.textContent = "-" + floatValue;
            const east_right = document.getElementById('east-right');
            east_right.textContent = label
            const east_middle = document.getElementById('east-middle');
            east_middle.textContent = floatValue;
        }
    });
});
	document.getElementById('main_button').addEventListener('click', function() {
      const x = document.getElementById('form_x').textContent;
      const y = document.getElementById('form_y').textContent;
      const r = document.getElementById('form_r').textContent;

      if (r == 'Значение R') {
      	alert("Выберите значение для числа R");
      	r.textContent = "";
      }

      else if (y == 'Значение Y') {
      	alert("Выберите значение для числа Y");
      	y.textContent = "";
      }

      else if (x == 'Значение X') {
      	alert("Выберите значение для числа X");
      	x.textContent = "";
      }
      
      	$.get('/fcgi-bin/lab1.jar', {text: 'test'}, function(data){

	alert(data);

});
    });

    


    </script>
</body>
</html>